<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org //DTD Mpaaer 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.hongcheol.march.modules.join.JoinMapper">
	
	<resultMap id="resultMapObj" type="com.hongcheol.march.modules.join.Join"></resultMap>
	
	<select id="selectList" resultMap="resultMapObj">
		SELECT
			a.*
			,b.*
		FROM member a
		left join dealer b
		on a.seq = b.dSeq
	</select>
	
	<insert id="insertM">
		INSERT INTO member(
			id
			,password
			,name
			,gender
			,postNumber
			,roadAddress
			,numberAddress
			,detailedAddress
			,shDelNy
			,delNy
			,email
			,number
			,dob
			,emailId
		)
		VALUE(
			#{id}
			,#{password}
			,#{gender}
			,#{postNumber}
			,#{roadAddress}
			,#{numberAddress}
			,#{detailedAddress}
			,#{shDelNy}
			,#{delNy}
			,#{eamil}
			,#{number}
			,#{dob}
			,#{eamilId}
		)
		<selectKey resultType="String" keyProperty="seq" order="AFTER">
			SELECT last_insert_id()
		</selectKey>
	</insert>
	
	<insert id="insertD">
		INSERT INTO dealer (
			dId
			,dPassword
			,dName
			,dGender
			,dNumber
			,company
			,dDelNy
			,dUseNy
			,dEmail
			,dEmailId
			,companyNum
			,leader
			,dRoadAddress
			,dNumberAddress
			,dDetailedAddress
		)
		VALUE (
			#{pId}
			#{dPassword}
			#{dName}
			#{dGender}
			#{dNumber}
			#{company}
			#{dDelNy}
			#{dUseNy}
			#{dEmail}
			#{dEmailId}
			#{companyNum}
			#{leader}
			#{dRoadAddress}
			#{dNumberAddress}
			#{dDetailedAddress}
		)
		
	</insert>
</mapper>